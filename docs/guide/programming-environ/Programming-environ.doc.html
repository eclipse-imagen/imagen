<html><head><title>Programming in Java Advanced Imaging </title></head>
<body bgcolor=#ffffff>
 
<center>
<a href="JAITOC.fm.html"><img src="shared/contents.gif" alt="Contents"></a> <a href="J2D-concepts.doc.html"><img src="shared/previous.gif" alt="Previous"></a> <a href="Acquisition.doc.html"><img src="shared/next.gif" alt="Next"></a> <p><font size=5><i>Programming in Java Advanced Imaging</i></font>
</center>
<br>
 
<center>
<a name="47227">
<table width=90% border=0><tr>
<td align=right><font size=3>C H A P T E R</font><font size=7><img src="shared/sm-space.gif">3</td></table>
</a></center><center>
<a name="47285">
<table width=90% border=0><tr><td align=right>
<hr size=7 noshade>
<font size=6>Programming in Java Advanced Imaging </font></td></table>
</a></center><blockquote>
<p><br><br><br><P><font size=7><b>T</b></font>HIS chapter describes how to get started programming with the Java Advanced Imaging (JAI) API.
<p><a name="53111">
<h2>3.1	<img src="shared/space.gif">Introduction</h2>
</a>An imaging operation within JAI is summarized in the following four steps:
<p><ul>

1.	 Obtain the source image or images. Images may be obtained in one of three ways (see <a href="Acquisition.doc.html#81550">Chapter &#32;4, "Image Acquisition and Display</a>"):<p>
<ul>

a.	 Load from an image file such as GIF, TIFF, or JPEG<p>

b.	 Fetch the image from another data source, such as a remote server<p>

c.	 Generate the image internally<p>
</ul>

2.	 Define the imaging graph. This is a two part process:<p>
<ul>

a.	 Define the image operators (see <a href="Programming-environ.doc.html#55112">Section &#32;3.6, "JAI API Operators</a>")<p>

b.	 Define the parent/child relationship between sources and sinks<p>
</ul>

3.	 Evaluate the graph using one of three execution models:<p>
<ul>

a.	 Rendered execution model (Immediate mode - see <a href="Programming-environ.doc.html#56858">Section &#32;3.3.1, "Rendered Graphs</a>")<p>

b.	 Renderable execution model (Deferred mode - see <a href="Programming-environ.doc.html#55932">Section &#32;3.3.2, "Renderable Graphs</a>")<p>

c.	 Remote execution model (Remote mode - see <a href="Programming-environ.doc.html#56364">Section &#32;3.4, "Remote Execution</a>")<p>
</ul>

4.	 Process the result. There are four possible destinations:<p>
<ul>

a.	 Save the image in a file<p>

b.	 Display the image on the screen<p>

c.	 Print the image on a printer or other output device<p>

d.	 Send the image to another API, such as Swing<p>
</ul>
</ul>
<a name="53105">
<h2>3.2	<img src="shared/space.gif">An Overview of Graphs</h2>
</a>In JAI, any operation is defined as an object. An operator object is instantiated with zero or more image sources and other parameters that define the operation. Two or more operators may be strung together so that the first operator becomes an image source to the next operator. By linking one operator to another, we create an imaging <em>graph</em> or <em>chain</em>.
<p>In its simplest form, the imaging graph is a chain of operator objects with one or more image sources at one end and an image <em>sinc</em> (or "user") at the other end. The graph that is created is commonly known as a <em>directed acyclic graph</em> (DAG), where each object is a <em>node</em> in the graph and object references form the <em>edges</em> (see <a href="Programming-environ.doc.html#54895">Figure &#32;3-1</a>).
<p><a name="54894">
 <hr>
<center><img src="Programming-environ.doc.anc.gif"></center><hr>

</a>
<a name="54895">
<center><font size=-1><b><i>Figure 3-1	</i><img src="shared/sm-blank.gif" border=0> An Example DAG</b></font></center>
</a><p>
Most APIs simply leave the DAG structure of images and operators implicit. However, JAI makes the notion of a <em>processing graph</em> explicit and allows such graphs to be considered as entities in their own right. Rather than thinking only of performing a series of operations in sequence, you can consider the graph structure produced by the operations. The graph form makes it easier to visualize the operations.
<p>A directed acyclic graph is a graph containing no cycles. This means that if there is a route from node A to node B then there should be no way back. Normally, when creating a graph by instantiating new nodes one at a time, cycles are easily avoided. However, when reconfiguring a graph, you must be careful not to introduce cycles into the graph.
<p><a name="55910">
<h2>3.3	<img src="shared/space.gif">Processing Graphs</h2>
</a>JAI extends rendering independence, which was introduced in the Java 2D API. With rendering independence, you have the ability to describe an image as you want it to appear, independent of any specific instance of it.
<p>In most imaging APIs, the application must know the exact resolution and size of the source image before it can begin any imaging operations on the image. The application must also know the resolution of the output device (computer monitor or color printer) and the color and tonal quality of the original image. A rendering-independent description is concerned with none of these. Rendering-independent sources and operations permit operations to be specified in resolution-independent coordinates.
<p>Think of rendering independence a bit like how a PostScript file is handled in a computer. To display a PostScript file on a monitor or to print the file to a high-resolution phototypesetter, you don't need to know the resolution of the output device. The PostScript file is essentially rendering independent in that it displays properly no matter what the resolution of the output device is.
<p>JAI has a "renderable" mode in which it treats all image sources as rendering independent. You can set up a graph (or chain) of renderable operations without any concern for the source image resolution or size; JAI takes care of the details of the operations.
<p>JAI introduces two different types of graphs: rendered and renderable.
<p>
<hr noshade><b>Note:</b> The following two sections, "<a href="Programming-environ.doc.html#56858">Rendered Graphs</a>" and "<a href="Programming-environ.doc.html#55932">Renderable Graphs</a>," are for advanced JAI users. Most programmers will use JAI's Rendered mode and don't really need to know about the Renderable mode.
<hr noshade>
<a name="56858">
<h3>3.3.1	<img src="shared/space.gif">Rendered Graphs</h3>
</a>Rendered graphs are the simplest form of rendering in JAI. Although Renderable graphs have the advantage of rendering-independence, eliminating the need to deal directly with pixels, Rendered graphs are useful when it is necessary to work directly with the pixels.
<p>A Rendered graph processes images in immediate mode. For any node in the graph, the image source is considered to have been evaluated at the moment it is instantiated and added to the graph. Or, put another way, as a new operation is added to the chain, it appears to compute its results immediately.
<p>A Rendered graph is composed of Rendered object nodes. These nodes are usually instances of the <code>RenderedOp</code> class, but could belong to any subclass of <code>PlanarImage</code>, JAI's version of <code>RenderedImage</code>.
<p>Image sources are objects that implement the <code>RenderedImage</code> interface. These sources are specified as parameters in the construction of new image objects.
<p>Let's take a look at an example of a rendered graph in <a href="Programming-environ.doc.html#61982">Listing &#32;3-1</a>. This example, which is a code fragment rather than an entire class definition, creates two constant images and then adds them together.<p>
<caption><font size=-1><b>
<a name="61982">
<center><font size=-1><b><i>Listing 3-1	</i><img src="shared/sm-blank.gif" border=0> Rendered Chain Example &#32;</b></font></center>
</a><p>
</b></font></caption>
<hr>
<tr valign=top><td colspan=1 rowspan=4><pre>     import javax.jai.*;
     import javax.jai.widget.*;
     import java.awt.Frame;
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top><td colspan=1 rowspan=2><pre>     public class AddExample extends Frame {
</pre>
<tr valign=top>
<tr valign=top><td colspan=1 rowspan=4><pre>          // ScrollingImagePanel is a utility widget that
          // contains a Graphics2D (i.e., is an image sink).
          ScrollingImagePanel imagePanel1;
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top><td colspan=1 rowspan=5><pre>          // For simplicity, we just do all the work in the
          // class constructor.
          public AddExample(ParameterBlock param1,
                            ParameterBlock param2) {
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top><td colspan=1 rowspan=3><pre>               // Create a constant image
               RenderedOp im0 = JAI.create("constant", param1);
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top><td colspan=1 rowspan=4><pre>               // Create another constant image.
               RenderedOp im1 = JAI.create("constant", param2);
               // Add the two images together.
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top><td colspan=1 rowspan=2><pre>               RenderedOp im2 = JAI.create("add", im0, im1);
</pre>
<tr valign=top>
<tr valign=top><td colspan=1 rowspan=3><pre>               // Display the original in a scrolling window
               imagePanel1 = new ScrollingImagePanel(im2, 100, 100);
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top><td colspan=1 rowspan=4><pre>               // Add the display widget to our frame.
               add(imagePanel1);
          }
     }
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top>

<hr>

<p>The first three lines of the example code specify which classes to import. The classes prefixed with <code>javax.jai</code> are the Java Advanced Imaging classes. The <code>java.awt</code> prefix specifies the core Java API classes.
<p><pre>     import javax.jai.*;
     import javax.jai.widget.*;
     import java.awt.Frame;
</pre>The next line declares the name of the program and that it runs in a <code>Frame</code>, a window with a title and border.
<p><pre>     public class AddExample extends Frame {
</pre>The next line of code creates a <code>ScrollingImagePanel</code>, which is the ultimate destination of our image:
<p><pre>     ScrollingImagePanel imagePanel1;
</pre>Next, a <code>ParameterBlock</code> for each source image is defined. The parameters specify the image height, width, origin, tile size, and so on.
<p><pre>     public AddExample(ParameterBlock param1,
                       ParameterBlock param2) {
</pre>The next two lines define two operations that create the two "constant" images that will be added together to create the destination image (see <a href="Acquisition.doc.html#72170">Section &#32;4.7, "Creating a Constant Image</a>").
<p><pre>     RenderedOp im0 = JAI.create("constant", param1);
     RenderedOp im1 = JAI.create("constant", param2);
</pre>Next, our example adds the two images together (see <a href="Image-manipulation.doc.html#56366">Section &#32;6.5.1, "Adding Two Source Images</a>").
<p><pre>     RenderedOp im2 = JAI.create("add", im0, im1);
</pre>Finally, we display the destination image in a scrolling window and add the display widget to our frame.
<p><pre>     imagePanel1 = new ScrollingImagePanel(im2, 100, 100);
     add(imagePanel1);
</pre>Once pixels start flowing, the graph will look like <a href="Programming-environ.doc.html#57108">Figure &#32;3-2</a>. The display widget drives the process. We mention this because the source images are not loaded and no pixels are produced until the display widget actually requests them.
<p><a name="57107">
 <hr>
<center><img src="Programming-environ.doc.anc3.gif"></center><hr>

</a>
<a name="57108">
<center><font size=-1><b><i>Figure 3-2	</i><img src="shared/sm-blank.gif" border=0> Rendered Chain Example</b></font></center>
</a><p>
<a name="55932">
<h3>3.3.2	<img src="shared/space.gif">Renderable Graphs</h3>
</a>A <em>renderable graph</em> is a graph that is not evaluated at the time it is specified. The evaluation is deferred until there is a specific request for a rendering. This is known as <em>deferred execution</em>; evaluation is deferred until there is a specific request for rendering.
<p>In a renderable graph, if a source image should change before there is a request for rendering, the changes will be reflected in the output. This process can be thought of as a "pull" model, in which the requestor pulls the image through the chain, which is the opposite of the AWT imaging push model.
<p>A renderable graph is made up of nodes implementing the <code>RenderableImage</code> interface, which are usually instances of the <code>RenderableOp</code> class. As the renderable graph is constructed, the sources of each node are specified to form the graph topology. The source of a renderable graph is a Renderable image object.
<p>Let's take a look at an example of a renderable graph in <a href="Programming-environ.doc.html#62194">Listing &#32;3-2</a>. This example reads a TIFF file, inverts its pixel values, then adds a constant value to the pixels. Once again, this example is a code fragment rather than an entire class definition.<p>
<caption><font size=-1><b>
<a name="62194">
<center><font size=-1><b><i>Listing 3-2	</i><img src="shared/sm-blank.gif" border=0> Renderable Chain Example</b></font></center>
</a><p>
</b></font></caption>
<hr>
<tr valign=top><td colspan=1 rowspan=8><pre>     // Get rendered source object from a TIFF source.
     // The ParameterBlock `pb0' contains the name
     // of the source (file, URL, etc.). The objects `hints0',
     // `hints1', and `hints2' contain rendering hints and are
     // assumed to be created outside of this code fragment.
     RenderedOp sourceImg = 
               JAI.create("TIFF", pb0);
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top><td><pre>     // Derive the RenderableImage from the source RenderedImage.
     ParameterBlock pb = new ParameterBlock();
     pb.addSource(sourceImg);
     pb.add(null).add(null).add(null).add(null).add(null);
</pre>
<tr valign=top><td><pre>     // Create the Renderable operation.
     RenderableImage ren = JAI.createRenderable("renderable", pb);
</pre>
<tr valign=top><td colspan=1 rowspan=4><pre>     // Set up the parameter block for the first op.
     ParameterBlock pb1 = new ParameterBlock();
     pb1.addSource(ren);
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top><td colspan=1 rowspan=3><pre>     // Make first Op in Renderable chain an invert.
     RenderableOp Op1 = JAI.createRenderable("invert", pb1);
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top><td colspan=1 rowspan=6><pre>     // Set up the parameter block for the second Op.
     // The constant to be added is "2".
     ParameterBlock pb2 = new ParameterBlock();
     pb2.addSource(Op1);        // Op1 as the source
     pb2.add(2.0f);             // 2.0f as the constant
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top><td colspan=1 rowspan=4><pre>     // Make a second Op a constant add operation.
     RenderableOp Op2 = 
               JAI.createRenderable("addconst", pb2);
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top><td colspan=1 rowspan=4><pre>     // Set up a rendering context.
     AffineTransform screenResolution = ...;
     RenderContext rc = new RenderContext(screenResolution);
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top><td colspan=1 rowspan=3><pre>     // Get a rendering.
     RenderedImage rndImg1 = Op2.createRendering(rc);
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top><td colspan=1 rowspan=2><pre>     // Display the rendering onscreen using screenResolution.
     imagePanel1 = new ScrollingImagePanel(rndImg1, 100, 100);
</pre>
<tr valign=top>

<hr>

<p>In this example, the image source is a TIFF image. A TIFF <code>RenderedOp</code> is created as a source for the subsequent operations:
<p><pre>     RenderedOp sourceImg = 
               JAI.create("TIFF", pb0);
</pre>The rendered source image is then converted to a renderable image:
<p><pre>     ParameterBlock pb = new ParameterBlock();
     pb.addSource(sourceImg);
     pb.add(null).add(null).add(null).add(null).add(null);
     RenderableImage ren = JAI.createRenderable("renderable", pb);
</pre>Next, a <code>ParameterBlock</code> is set up for the first operation. The parameter block contains sources for the operation and parameters or other objects that the operator may require.
<p><pre>     ParameterBlock pb1 = new ParameterBlock();
     pb1.addSource(sourceImage);
</pre>An "invert" <code>RenderableOp</code> is then created with the TIFF image as the source. The <code>invert</code> operation inverts the pixel values of the source image and creates a <code>RenderableImage</code> as the result of applying the operation to a tuple (source and parameters).
<p><pre>     RenderableOp Op1 = JAI.createRenderable("invert", pb1);
</pre>The next part of the code example sets up a <code>ParameterBlock</code> for the next operation. The <code>ParameterBlock</code> defines the previous operation (Op1) as the source of the next operation and sets a constant with a value of 2.0, which will be used in the next "add constant" operation.
<p><pre>     ParameterBlock pb2 = new ParameterBlock();
     pb2.addSource(Op1);        // Op1 as the source
     pb2.add(2.0f);             // 2.0f as the constant
</pre>The second operation (<code>Op2</code>) is an add constant (<code>addconst</code>), which adds the constant value (2.0) to the pixel values of a source image on a per-band basis. The <code>pb2</code> parameter is the <code>ParameterBlock</code> set up in the previous step.
<p><pre>     RenderableOp Op2 = 
               JAI.createRenderable("addconst", pb2);
</pre>After <code>Op2</code> is created, the renderable chain thus far is shown in <a href="Programming-environ.doc.html#56637">Figure &#32;3-3</a>.
<p><a name="56636">
 <hr>
<center><img src="Programming-environ.doc.anc1.gif"></center><hr>

</a>
<a name="56637">
<center><font size=-1><b><i>Figure 3-3	</i><img src="shared/sm-blank.gif" border=0> Renderable Chain Example</b></font></center>
</a><p>
Next, a <code>RenderContext</code> is created using an <code>AffineTransform</code> that will produce a screen-size rendering.
<p><pre>     AffineTransform screenResolution = ...;
     RenderContext rc = new RenderContext(screenResolution);
</pre>This rendering is created by calling the <code>RenderableImage.createRendering</code> method on <code>Op2</code>. The <code>createRendering</code> method does not actually compute any pixels, bit it does instantiate a <code>RenderedOp</code> chain that will produce a rendering at the appropriate pixel dimensions.
<p><pre>     RenderedImage rndImg1 = Op2.createRendering(rc);
</pre>The Renderable graph can be thought of as a <em>template</em> that, when rendered, causes the instantiation of a parallel Rendered graph to accomplish the actual processing. Now let's take a look at what happens back up the rendering chain in our example:
<p><ul>
<li>When the <code>Op2.createRendering</code> method is called, it recursively calls the <code>Op1.createRendering</code> method with the <code>RenderContext</code> <code>rc</code> as the argument.<p></ul><ul>
<li>The <code>Op1</code> operation then calls the <code>sourceImg.getImage</code> method, again with <code>rc</code> as the argument. <code>sourceImg</code> creates a new <code>RenderedImage</code> to hold its source pixels at the required resolution and inserts it into the chain. It then returns a handle to this object to <code>Op1</code>.<p></ul><ul>
<li><code>Op1</code> then uses the <code>OperationRegistry</code> to find a <code>ContextualRenderedImageFactory</code> (CRIF) that can perform the "invert" operation. The resulting <code>RenderedOp</code> object returned by the CRIF is inserted into the chain with the handle returned by <code>sourceImg</code> as its source.<p></ul><ul>
<li>The handle to the "invert" <code>RenderedImage</code> is returned to <code>Op2</code>, which repeats the process, creating an "addconst" <code>RenderedOp</code>, inserting it into the chain and returning a handle to <code>rndImg1</code>.<p></ul><ul>
<li>Finally, <code>rndImg1</code> is used in the call to the <code>ScrollingImagePanel</code> to display the result on the screen.<p></ul>After the creation of the <code>ScrollingImagePanel</code>, the Renderable and Rendered chains look like <a href="Programming-environ.doc.html#56736">Figure &#32;3-4</a>.
<p><a name="56717">
 <hr>
<center><img src="Programming-environ.doc.anc2.gif"></center><hr>

</a>
<a name="56736">
<center><font size=-1><b><i>Figure 3-4	</i><img src="shared/sm-blank.gif" border=0> Renderable and Rendered Graphs after the getImage Call</b></font></center>
</a><p>
At this point in the chain, no pixels have been processed and no <code>OpImages</code>, which actually calculate the results, have been created. Only when the <code>ScrollingImagePanel</code> needs to put pixels on the screen are the <code>OpImages</code> created and pixels pulled through the Rendered chain, as done in the final line of code.
<p><pre>     imagePanel1 = new ScrollingImagePanel(rndImg1, 100, 100);
</pre><a name="57712">
<h3>3.3.3	<img src="shared/space.gif">Reusing Graphs</h3>
</a>Many times, it is more desirable to make changes to an existing graph and reuse it than to create another nearly identical graph. Both Rendered and Renderable graphs are editable, with certain limitations.
<p><a name="57753">
<h4>3.3.3.1	<img src="shared/space.gif">Editing Rendered Graphs</h4>
</a>Initially, a node in a Rendered graph is mutable; it may be assigned new sources, which are considered to be evaluated as soon as they are assigned, and its parameter values may be altered. However, once rendering takes place at a node, it becomes frozen and its sources and parameters cannot be changed.
<p>A chain of Rendered nodes may be cloned without freezing any of its nodes by means of the <code>RenderedOp.createInstance</code> method. Using the <code>createInstance</code> method, a Rendered graph may be configured and reused at will, as well as serialized and transmitted over a network.
<p>The <code>RenderedOp</code> class provides several methods for reconfiguring a Rendered node. The <code>setParameter</code> methods can be used to set the node's parameters to a <code>byte</code>, <code>char</code>, <code>short</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>double</code>, or an <code>Object</code>. The <code>setOperationName</code> method can be used to change the operation name. The <code>setParameterBlock</code> method can be used to change the nodes's <code>ParameterBlock</code>.
<p><a name="57755">
<h4>3.3.3.2	<img src="shared/space.gif">Editing Renderable Graphs</h4>
</a>Since Renderable graphs are not evaluated until there is a specific request for a rendering, the nodes may be edited at any time. The main concern with editing Renderable graphs is the introduction of cycles, which must be avoided.
<p>The <code>RenderableOp</code> class provides several methods for reconfiguring a Renderable node. The <code>setParameter</code> methods can be used to set the node's parameters to a <code>byte</code>, <code>char</code>, <code>short</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>double</code>, or an <code>Object</code>. The <code>setParameterBlock</code> method can be used to change the nodes's <code>ParameterBlock</code>. The <code>setProperty</code> method can be used to change a node's local property. The <code>setSource</code> method can be used to set one of the node's sources to an <code>Object</code>.
<p><a name="56364">
<h2>3.4	<img src="shared/space.gif">Remote Execution</h2>
</a>Up to this point, we have been talking about standalone image processing. JAI also provides for client-server image processing through what is called the <em>Remote Execution</em> model.
<p>Remote execution is based on Java RMI (remote method invocation). Java RMI allows Java code on a client to invoke method calls on objects that reside on another computer without having to move those objects to the client. The advantages of remote execution become obvious if you think of several clients wanting to access the same objects on a server. To learn more about remote method invocation, refer to one of the books on Java described in <a href="Preface.doc.html#47778">"Related Documentation" on page xv</a>.
<p>To do remote method invocation in JAI, a <code>RemoteImage</code> is set up on the server and a <code>RenderedImage</code> chain is set up on the client. For more information, see <a href="Client-server.doc.html#47285">Chapter &#32;12, "Client-Server Imaging</a>."
<p><a name="52603">
<h2>3.5	<img src="shared/space.gif">Basic JAI API Classes</h2>
</a>JAI consists of several classes grouped into five packages:
<p><ul>
<li><code>javax.media.jai</code> - contains the "core" JAI interfaces and classes<p></ul><ul>
<li><code>javax.media.jai.iterator</code> - contains special iterator interfaces and classes, which are useful for writing extension operations<p></ul><ul>
<li><code>javax.media.jai.operator</code> - contains classes that describe all of the image operators<p></ul><ul>
<li><code>javax.media.jai.widget</code> - contains interfaces and classes for creating simple image canvases and scrolling windows for image display<p></ul>Now, let's take a look at the most common classes in the JAI class hierarchy.
<p><a name="52605">
<h3>3.5.1	<img src="shared/space.gif">The JAI Class</h3>
</a>The <code>JAI</code> class cannot be instantiated; it is simply a placeholder for static methods that provide a simple syntax for creating Renderable and Rendered graphs. The majority of the methods in this class are used to create a <code>RenderedImage</code>, taking an operation name, a <code>ParameterBlock</code>, and <code>RenderingHints</code> as arguments. There is one method to create a <code>RenderableImage</code>, taking an operation name, a <code>ParameterBlock</code>, and <code>RenderingHints</code> as arguments.
<p>There are several variations of the <code>create</code> method, all of which take sources and parameters directly and construct a <code>ParameterBlock</code> automatically.
<p><a name="52611">
<h3>3.5.2	<img src="shared/space.gif">The PlanarImage Class</h3>
</a>The <code>PlanarImage</code> class is the main class for describing two-dimensional images in JAI. <code>PlanarImage</code> implements the <code>RenderedImage</code> interface from the Java 2D API. <code>TiledImage</code> and <code>OpImage</code>, described later, are subclasses of <code>PlanarImage</code>.<code></code>
<p>The <code>RenderedImage</code> interface describes a tiled, read-only image with a pixel layout described by a <code>SampleModel</code> and a <code>DataBuffer</code>. Each tile is a rectangle of identical dimensions, laid out on a regular grid pattern. All tiles share a common <code>SampleModel</code>.
<p>In addition to the capabilities offered by <code>RenderedImage</code>, <code>PlanarImage</code> maintains source and sink connections between the nodes of rendered graphs. Since graph nodes are connected bidirectionally, the garbage collector requires assistance to detect when a portion of a graph is no longer referenced from user code and may be discarded. <code>PlanarImage</code> takes care of this by using the <em>Weak References API</em> of Java 2.
<p>Any <code>RenderedImage</code>s from outside the API are "wrapped" to produce an instance of <code>PlanarImage</code>. This allows the API to make use of the extra functionality of <code>PlanarImage</code> for all images.
<p><a name="52625">
<h3>3.5.3	<img src="shared/space.gif">The CollectionImage Class</h3>
</a><code>CollectionImage</code> is the abstract superclass for four classes representing collections of <code>PlanarImage</code>s:
<p><ul>
<li><code>ImageStack</code> - represents a set of two-dimensional images lying in a common three-dimensional space, such as CT scans or seismic volumes. The images need not lie parallel to one another.<p></ul><ul>
<li><code>ImageSequence</code> - represents a sequence of images with associated time stamps and camera positions. This class can be used to represent video or time-lapse photography.<p></ul><ul>
<li><code>ImagePyramid</code> - represents a series of images of progressively lesser resolution, each derived from the last by means of an imaging operator.<p></ul><ul>
<li><code>ImageMIPMap</code> - represents a stack of images with a fixed operational relationship between adjacent slices.<p></ul><a name="52640">
<h3>3.5.4	<img src="shared/space.gif">The TiledImage Class</h3>
</a>The <code>TiledImage</code> class represents images containing multiple tiles arranged into a grid. The tiles form a regular grid, which may occupy any rectangular region of the plane.
<p><code>TiledImage</code> implements the <code>WritableRenderedImage</code> interface from the Java 2D API, as well as extending <code>PlanarImage</code>. A <code>TiledImage</code> allows its tiles to be checked out for writing, after which their pixel data may be accessed directly. <code>TiledImage</code> also has a <code>createGraphics</code> method that allows its contents to be altered using Java 2D API drawing calls.
<p>A <code>TiledImage</code> contains a tile grid that is initially empty. As each tile is requested, it is initialized with data from a <code>PlanarImage</code> source. Once a tile has been initialized, its contents can be altered. The source image may also be changed for all or part of the <code>TiledImage</code> using its <code>set</code> methods. In particular, an arbitrary region of interest (ROI) may be filled with data copied from a <code>PlanarImage</code> source.
<p>The <code>TiledImage</code> class includes a method that allows you to paint a <code>Graphics2D</code> onto the <code>TiledImage</code>. This is useful for adding text, lines, and other simple graphics objects to an image for annotating the image. For more on the TiledImage class, see <a href="Acquisition.doc.html#52363">Section &#32;4.2.2, "Tiled Image</a>."
<p><a name="52693">
<h3>3.5.5	<img src="shared/space.gif">The OpImage Class</h3>
</a>The OpImage class is the parent class for all imaging operations, such as:
<p><ul>
<li><code>AreaOpImage</code> - for image operators that require only a fixed rectangular source region around a source pixel to compute each destination pixel<p></ul><ul>
<li><code>PointOpImage</code> - for image operators that require only a single source pixel to compute each destination pixel<p></ul><ul>
<li><code>SourcelessOpImage</code> - for image operators that have no image sources<p></ul><ul>
<li><code>StatisticsOpImage</code> - for image operators that compute statistics on a given region of an image, and with a given sampling rate<p></ul><ul>
<li><code>UntiledOpimage</code> - for single-source operations in which the values of all pixels in the source image contribute to the value of each pixel in the destination image<p></ul><ul>
<li><code>WarpOpImage</code> - for image operators that perform an image warp<p></ul><ul>
<li><code>ScaleOpImage</code> - for extension operators that perform image scaling requiring rectilinear backwards mapping and padding by the resampling filter dimensions<code></code><p></ul>The <code>OpImage</code> is able to determine what source areas are sufficient for the computation of a given area of the destination by means of a user-supplied <code>mapDestRect</code> method. For most operations, this method as well as a suitable implementation of <code>getTile</code> is supplied by a standard subclass of <code>OpImage</code>, such as <code>PointOpImage</code> or <code>AreaOpImage</code>.
<p>An <code>OpImage</code> is effectively a <code>PlanarImage</code> that is defined computationally. In <code>PlanarImage</code>, the <code>getTile</code> method of <code>RenderedImage</code> is left abstract, and <code>OpImage</code> subclasses override it to perform their operation. Since it may be awkward to produce a tile of output at a time, due to the fact that source tile boundaries may need to be crossed, the <code>OpImage</code> class defines a <code>getTile</code> method to cobble (copy) source data as needed and to call a user-supplied <code>computeRect</code> method. This method then receives contiguous source <code>Rasters</code> that are guaranteed to contain sufficient data to produce the desired results. By calling <code>computeRect</code> on subareas of the desired tile, <code>OpImage</code> is able to minimize the amount of data that must be cobbled.
<p>A second version of the <code>computeRect</code> method that is called with uncobbled sources is available to extenders. This interface is useful for operations that are implemented using <em>iterators</em> (see <a href="Extension.doc.html#51261">Section &#32;14.4, "Iterators</a>"), which abstract away the notion of tile boundaries.
<p><a name="52811">
<h3>3.5.6	<img src="shared/space.gif">The RenderableOp Class</h3>
</a>The <code>RenderableOp</code> class provides a lightweight representation of an operation in the Renderable space (see <a href="Programming-environ.doc.html#55932">Section &#32;3.3.2, "Renderable Graphs</a>"). <code>RenderableOp</code>s are typically created using the <code>createRenderable</code> method of the <code>JAI</code> class, and may be edited at will. <code>RenderableOp</code> implements the <code>RenderableImage</code> interface, and so may be queried for its rendering-independent dimensions.
<p>When a <code>RenderableOp</code> is to be rendered, it makes use of the <code>OperationRegistry</code> (described in <a href="Extension.doc.html#47227">Chapter &#32;14</a>) to locate an appropriate <code>ContextualRenderedImageFactory</code> object to perform the conversion from the Renderable space into a <code>RenderedImage</code>.
<p><a name="52834">
<h3>3.5.7	<img src="shared/space.gif">The RenderedOp Class</h3>
</a>The <code>RenderedOp</code> is a lightweight object similar to <code>RenderableOp</code> that stores an operation name, <code>ParameterBlock</code>, and <code>RenderingHints</code>, and can be joined into a Rendered graph (see <a href="Programming-environ.doc.html#56858">Section &#32;3.3.1, "Rendered Graphs</a>"). There are two ways of producing a rendering of a <code>RenderedOp</code>:
<p><ul>
<li>Implicit - Any call to a <code>RenderedImage</code> method on a <code>RenderedOp</code> causes a rendering to be created. This rendering will usually consist of a chain of <code>OpImage</code>s with a similar geometry to the <code>RenderedOp</code> chain. It may have more or fewer nodes, however, since the rendering process may both collapse nodes together by recognizing patterns, and expand nodes by the use of the <code>RenderedImageFactory</code> interface. The <code>OperationRegistry</code> (described in <a href="Extension.doc.html#47227">Chapter &#32;14</a>) is used to guide the <code>RenderedImageFactory</code> selection process.<p></ul><ul>
<li>Explicit - A call to <code>createInstance</code> effectively clones the <code>RenderedOp</code> and its source <code>RenderedOp</code>s, resulting in an entirely new Rendered chain with the same non-<code>RenderedOp</code> sources (such as <code>TiledImage</code>s) as the original chain. The bottom node of the cloned chain is then returned to the caller. This node will then usually be implicitly rendered by calling <code>RenderedImage</code> methods on it.<p></ul><code>RenderedOp</code>s that have not been rendered may have their sources and parameters altered. Sources are considered evaluated as soon as they are connected to a <code>RenderedOp</code>.
<p><a name="55112">
<h2>3.6	<img src="shared/space.gif">JAI API Operators</h2>
</a>The JAI API specifies a core set of image processing operators. These operators provide a common ground for applications programmers, since they can then make assumptions about what operators are guaranteed to be present on all platforms.
<p>The general categories of image processing operators supported include:
<p><ul>
<li><a href="Programming-environ.doc.html#55124">Point Operators</a><p></ul><ul>
<li><a href="Programming-environ.doc.html#55826">Area Operators</a><p></ul><ul>
<li><a href="Programming-environ.doc.html#60616">Geometric Operators</a><p></ul><ul>
<li><a href="Programming-environ.doc.html#60618">Color Quantization Operators</a><p></ul><ul>
<li><a href="Programming-environ.doc.html#55610">File Operators</a><p></ul><ul>
<li><a href="Programming-environ.doc.html#55692">Frequency Operators</a><p></ul><ul>
<li><a href="Programming-environ.doc.html#55775">Statistical Operators</a><p></ul><ul>
<li><a href="Programming-environ.doc.html#55826">Edge Extraction Operators</a><p></ul><ul>
<li><a href="Programming-environ.doc.html#63124">Miscellaneous Operators</a><p></ul>The JAI API also supports abstractions for many common types of image collections, such as time-sequential data and image pyramids. These are intended to simplify operations on image collections and allow the development of operators that work directly on these abstractions.
<p><a name="55124">
<h3>3.6.1	<img src="shared/space.gif">Point Operators</h3>
</a>Point operators allow you to modify the way in which the image data fills the available range of gray levels. This affects the image's appearance when displayed. Point operations transform an input image into an output image in such a way that each output pixel depends only on the corresponding input pixel. Point operations do not modify the spatial relationships within an image.
<p><a href="Programming-environ.doc.html#64590">Table &#32;3-1</a> lists the JAI point operators.<p> 
<Table Border="3" cellpadding=3>
<caption><font size=-1><b><a name="64590">
<i>Table 3-1	 </i><img src="shared/sm-blank.gif" border=0> Point Operators &#32;
</a></b></font></caption>
<tr valign=top><th><a name="64596">
Operator
</a><th><a name="64598">
Description
</a><th><a name="64600">
Reference
</a>
<tr valign=top><td><a name="64602">
Absolute</a><br><td><a name="64604">
Takes one rendered or renderable source image, and computes the mathematical absolute value of each pixel.</a><br><td><a name="64609">
<a href="Image-manipulation.doc.html#56159">page &#32;177</a></a><br>
<tr valign=top><td><a name="64611">
Add</a><br><td><a name="64613">
Takes two rendered or renderable source images, and adds every pair of pixels, one from each source image of the corresponding position and band.</a><br><td><a name="64618">
<a href="Image-manipulation.doc.html#56366">page &#32;166</a></a><br>
<tr valign=top><td><a name="64620">
AddCollection</a><br><td><a name="64622">
Takes a collection of rendered source images, and adds every pair of pixels, one from each source image of the corresponding position and band.</a><br><td><a name="64627">
<a href="Image-manipulation.doc.html#68198">page &#32;168</a></a><br>
<tr valign=top><td><a name="64629">
AddConst</a><br><td><a name="64968">
Takes a collection of rendered images and an array of double constants, and for each rendered image in the collection adds a constant to every pixel of its corresponding band.</a><br><td><a name="64636">
<a href="Image-manipulation.doc.html#56269">page &#32;167</a></a><br>
<tr valign=top><td><a name="64638">
 AddConstToCollection
</a><td><a name="64978">
Takes a collection of rendered images and an array of double constants, and for each rendered image in the collection adds a constant to every pixel of its corresponding band.</a><br><td><a name="64645">
<a href="Image-manipulation.doc.html#69890">page &#32;169</a></a><br>
<tr valign=top><td><a name="64647">
And</a><br><td><a name="64988">
Takes two rendered or renderable source images and performs a bit-wise logical AND on every pair of pixels, one from each source image, of the corresponding position and band.</a><br><td><a name="64654">
<a href="Image-manipulation.doc.html#56569">page &#32;158</a></a><br>
<tr valign=top><td><a name="64656">
AndConst</a><br><td><a name="65000">
Takes one rendered or renderable source image and an array of integer constants, and performs a bit-wise logical AND between every pixel in the same band of the source and the constant from the corresponding array entry.</a><br><td><a name="64663">
<a href="Image-manipulation.doc.html#56421">page &#32;159</a></a><br>
<tr valign=top><td><a name="64665">
BandCombine</a><br><td><a name="65010">
Takes one rendered or renderable source image and computes a set of arbitrary linear combinations of the bands using a specified matrix.</a><br><td><a name="64672">
<a href="Color.doc.html#51591">page &#32;141</a></a><br>
<tr valign=top><td><a name="64674">
BandSelect</a><br><td><a name="65030">
Takes one rendered or renderable source image, chooses N bands from the image, and copies the pixel data of these bands to the destination image in the order specified.</a><br><td><a name="64681">
<a href="Image-manipulation.doc.html#63344">page &#32;185</a></a><br>
<tr valign=top><td><a name="64683">
Clamp</a><br><td><a name="65036">
Takes one rendered or renderable source image and sets all the pixels whose value is below a low value to that low value and all the pixels whose value is above a high value to that high value. The pixels whose value is between the low value and the high value are left unchanged.</a><br><td><a name="64690">
<a href="Image-manipulation.doc.html#56747">page &#32;184</a></a><br>
<tr valign=top><td><a name="64692">
ColorConvert</a><br><td><a name="65046">
Takes one rendered or renderable source image and performs a pixel-by-pixel color conversion of the data.</a><br><td><a name="64699">
<a href="Color.doc.html#51551">page &#32;140</a></a><br>
<tr valign=top><td><a name="64701">
Composite</a><br><td><a name="65056">
Takes two rendered or renderable source images and combines the two images based on their alpha values at each pixel.</a><br><td><a name="64708">
<a href="Image-enhance.doc.html#61005">page &#32;243</a></a><br>
<tr valign=top><td><a name="64710">
Constant</a><br><td><a name="65062">
Takes one rendered or renderable source image and creates a multi-banded, tiled rendered image, where all the pixels from the same band have a constant value.</a><br><td><a name="64717">
<a href="Acquisition.doc.html#72170">page &#32;123</a></a><br>
<tr valign=top><td><a name="64719">
Divide</a><br><td><a name="65072">
Takes two rendered or renderable source images, and for every pair of pixels, one from each source image of the corresponding position and band, divides the pixel from the first source by the pixel from the second source.</a><br><td><a name="64726">
<a href="Image-manipulation.doc.html#63828">page &#32;171</a></a><br>
<tr valign=top><td><a name="64728">
DivideByConst</a><br><td><a name="65084">
Takes one rendered source image and divides the pixel values of the image by a constant.</a><br><td><a name="64735">
<a href="Image-manipulation.doc.html#59876">page &#32;172</a></a><br>
<tr valign=top><td><a name="64737">
DivideComplex</a><br><td><a name="65094">
Takes two rendered or renderable source images representing complex data and divides them.</a><br><td><a name="64744">
<a href="Image-manipulation.doc.html#59909">page &#32;174</a></a><br>
<tr valign=top><td><a name="64746">
DivideIntoConst</a><br><td><a name="65102">
Takes one rendered or renderable source image and an array of double constants, and divides every pixel of the same band of the source into the constant from the corresponding array entry.</a><br><td><a name="64753">
<a href="Image-manipulation.doc.html#59931">page &#32;173</a></a><br>
<tr valign=top><td><a name="64755">
Exp</a><br><td><a name="65112">
Takes one rendered or renderable source image and computes the exponential of the pixel values.</a><br><td><a name="64762">
<a href="Image-manipulation.doc.html#58051">page &#32;177</a></a><br>
<tr valign=top><td><a name="64764">
Invert</a><br><td><a name="65122">
Takes one rendered or renderable source image and inverts the pixel values.</a><br><td><a name="64771">
<a href="Image-enhance.doc.html#64866">page &#32;241</a></a><br>
<tr valign=top><td><a name="64773">
Log</a><br><td><a name="65128">
Takes one rendered or renderable source image and computes the natural logarithm of the pixel values. The operation is done on a per-pixel, per-band basis. For integral data types, the result will be rounded and clamped as needed.</a><br><td><a name="64780">
<a href="Image-enhance.doc.html#60051">page &#32;241</a></a><br>
<tr valign=top><td><a name="64782">
Lookup</a><br><td><a name="65138">
Takes one rendered or renderable source image and a lookup table, and performs general table lookup by passing the source image through the table.</a><br><td><a name="64789">
<a href="Image-enhance.doc.html#71424">page &#32;205</a></a><br>
<tr valign=top><td><a name="64791">
MatchCDF</a><br><td><a name="65148">
Takes one rendered or renderable source image and performs a piecewise linear mapping of the pixel values such that the Cumulative Distribution Function (CDF) of the destination image matches as closely as possible a specified Cumulative Distribution Function.</a><br><td><a name="64798">
<a href="Image-enhance.doc.html#71727">page &#32;203</a></a><br>
<tr valign=top><td><a name="64800">
Max</a><br><td><a name="65158">
Takes two rendered or renderable source images, and for every pair of pixels, one from each source image of the corresponding position and band, finds the maximum pixel value.</a><br><td><a name="64807">
<a href="Image-manipulation.doc.html#58435">page &#32;156</a></a><br>
<tr valign=top><td><a name="64809">
Min</a><br><td><a name="64811">
Takes two rendered or renderable source images and for every pair of pixels, one from each source image of the corresponding position and band, finds the minimum pixel value.</a><br><td><a name="64816">
<a href="Image-manipulation.doc.html#58446">page &#32;157</a></a><br>
<tr valign=top><td><a name="64818">
Multiply</a><br><td><a name="65176">
Takes two rendered or renderable source images, and multiplies every pair of pixels, one from each source image of the corresponding position and band.</a><br><td><a name="64825">
<a href="Image-manipulation.doc.html#58296">page &#32;174</a></a><br>
<tr valign=top><td><a name="64827">
MultiplyComplex</a><br><td><a name="65186">
Takes two rendered source images representing complex data and multiplies the two images.</a><br><td><a name="64834">
<a href="Image-manipulation.doc.html#59962">page &#32;176</a></a><br>
<tr valign=top><td><a name="64836">
MultiplyConst</a><br><td><a name="65196">
Takes one rendered or renderable source image and an array of double constants, and multiplies every pixel of the same band of the source by the constant from the corresponding array entry.</a><br><td><a name="64843">
<a href="Image-manipulation.doc.html#58212">page &#32;175</a></a><br>
<tr valign=top><td><a name="64845">
Not</a><br><td><a name="65208">
Takes one rendered or renderable source image and performs a bit-wise logical NOT on every pixel from every band of the source image.</a><br><td><a name="64852">
<a href="Image-manipulation.doc.html#62697">page &#32;164</a></a><br>
<tr valign=top><td><a name="64854">
Or</a><br><td><a name="64856">
Takes two rendered or renderable source images and performs bit-wise logical OR on every pair of pixels, one from each source image of the corresponding position and band.</a><br><td><a name="64861">
<a href="Image-manipulation.doc.html#61460">page &#32;160</a></a><br>
<tr valign=top><td><a name="64863">
OrConst</a><br><td><a name="65226">
Takes one rendered or renderable source image and an array of integer constants, and performs a bit-wise logical OR between every pixel in the same band of the source and the constant from the corresponding array entry.</a><br><td><a name="64870">
<a href="Image-manipulation.doc.html#58466">page &#32;161</a></a><br>
<tr valign=top><td><a name="64872">
Overlay</a><br><td><a name="64874">
Takes two rendered or renderable source images and overlays the second source image on top of the first source image.</a><br><td><a name="64879">
<a href="Image-enhance.doc.html#60992">page &#32;242</a></a><br>
<tr valign=top><td><a name="64881">
Pattern</a><br><td><a name="65240">
Takes a rendered source image and defines a tiled image consisting of a repeated pattern.</a><br><td><a name="64888">
<a href="Acquisition.doc.html#81379">page &#32;80</a></a><br>
<tr valign=top><td><a name="64890">
Piecewise</a><br><td><a name="65252">
Takes one rendered or renderable source image and performs a piecewise linear mapping of the pixel values.</a><br><td><a name="64897">
<a href="Image-enhance.doc.html#70864">page &#32;202</a></a><br>
<tr valign=top><td><a name="64899">
Rescale</a><br><td><a name="65262">
Takes one rendered or renderable source image and maps the pixel values of an image from one range to another range by multiplying each pixel value by one of a set of constants and then adding another constant to the result of the multiplication.</a><br><td><a name="64906">
<a href="Image-enhance.doc.html#76502">page &#32;200</a></a><br>
<tr valign=top><td><a name="64908">
Subtract</a><br><td><a name="65268">
Takes two rendered or renderable source images, and for every pair of pixels, one from each source image of the corresponding position and band, subtracts the pixel from the second source from the pixel from the first source.</a><br><td><a name="64915">
<a href="Image-manipulation.doc.html#59012">page &#32;169</a></a><br>
<tr valign=top><td><a name="64917">
SubtractConst</a><br><td><a name="65278">
Takes one rendered or renderable source image and an array of double constants, and subtracts a constant from every pixel of its corresponding band of the source.</a><br><td><a name="64924">
<a href="Image-manipulation.doc.html#59014">page &#32;170</a></a><br>
<tr valign=top><td><a name="64926">
SubtractFromConst</a><br><td><a name="65288">
Takes one rendered or renderable source image and an array of double constants, and subtracts every pixel of the same band of the source from the constant from the corresponding array entry.</a><br><td><a name="64933">
<a href="Image-manipulation.doc.html#63705">page &#32;171</a></a><br>
<tr valign=top><td><a name="64935">
Threshold</a><br><td><a name="65294">
Takes one rendered or renderable source image, and maps all the pixels of this image whose value falls within a specified range to a specified constant.</a><br><td><a name="64942">
<a href="Image-enhance.doc.html#63249">page &#32;245</a></a><br>
<tr valign=top><td><a name="64944">
Xor</a><br><td><a name="64946">
Takes two rendered or renderable source images, and performs a bit-wise logical XOR on every pair of pixels, one from each source image of the corresponding position and band.</a><br><td><a name="64951">
<a href="Image-manipulation.doc.html#59163">page &#32;162</a></a><br>
<tr valign=top><td><a name="64953">
XorConst</a><br><td><a name="65304">
Takes one rendered or renderable source image and an array of integer constants, and performs a bit-wise logical XOR between every pixel in the same band of the source and the constant from the corresponding array entry.</a><br><td><a name="64960">
<a href="Image-manipulation.doc.html#59165">page &#32;163</a></a><br>

</Table>

<p><a name="55460">
<h3>3.6.2	<img src="shared/space.gif">Area Operators</h3>
</a>The area operators perform geometric transformations, which result in the repositioning of pixels within an image. Using a mathematical transformation, pixels are located from their <em>x</em> and <em>y</em> spatial coordinates in the input image to new coordinates in the output image.
<p>There are two basic types of area operations: linear and nonlinear. Linear operations include translation, rotation, and scaling. Non-linear operations, also known as <em>warping transformations</em>, introduce curvatures and bends to the processed image.
<p><a href="Programming-environ.doc.html#55481">Table &#32;3-2</a> lists the JAI area operators.<p> 
<Table Border="3" cellpadding=3>
<caption><font size=-1><b><a name="55481">
<i>Table 3-2	 </i><img src="shared/sm-blank.gif" border=0> Area Operators &#32;
</a></b></font></caption>
<tr valign=top><th><a name="55487">
Operator
</a><th><a name="55489">
Description
</a><th><a name="55491">
Reference
</a>
<tr valign=top><td><a name="55502">
 Border
</a><td><a name="65314">
Takes one rendered source image and adds a border around it.</a><br><td><a name="55509">
<a href="Image-enhance.doc.html#68364">page &#32;191</a></a><br>
<tr valign=top><td><a name="60860">
 BoxFilter
</a><td><a name="65324">
Takes one rendered source image and determines the intensity of a pixel in the image by averaging the source pixels within a rectangular area around the pixel.</a><br><td><a name="60867">
<a href="Image-enhance.doc.html#59705">page &#32;224</a></a><br>
<tr valign=top><td><a name="55511">
 Convolve
</a><td><a name="65330">
Takes one rendered source image and performs a spatial operation that computes each output sample by multiplying elements of a kernel with the samples surrounding a particular source sample.</a><br><td><a name="55518">
<a href="Image-enhance.doc.html#51172">page &#32;221</a></a><br>
<tr valign=top><td><a name="61475">
 Crop
</a><td><a name="65336">
Takes one rendered or renderable source image and crops the image to a specified rectangular area.</a><br><td><a name="61479">
<a href="Image-enhance.doc.html#73080">page &#32;199</a></a><br>
<tr valign=top><td><a name="55538">
 MedianFilter
</a><td><a name="65346">
Takes a rendered source image and passes it through a non-linear filter that is useful for removing isolated lines or pixels while preserving the overall appearance of the image.</a><br><td><a name="55545">
<a href="Image-enhance.doc.html#66803">page &#32;226</a></a><br>

</Table>

<p><a name="60616">
<h3>3.6.3	<img src="shared/space.gif">Geometric Operators</h3>
</a>Geometric operators allow you to modify the orientation, size, and shape of an image. <a href="Programming-environ.doc.html#60622">Table &#32;3-3</a> lists the JAI geometric operators.<p> 
<Table Border="3" cellpadding=3>
<caption><font size=-1><b><a name="60622">
<i>Table 3-3	 </i><img src="shared/sm-blank.gif" border=0> Geometric Operators
</a></b></font></caption>
<tr valign=top><th><a name="60640">
Operator
</a><th><a name="60642">
Description
</a><th><a name="60644">
Reference
</a>
<tr valign=top><td><a name="60650">
Affine</a><br><td><a name="65354">
Takes one rendered or renderable source image and performs (possibly filtered) affine mapping on it.</a><br><td><a name="60657">
<a href="Geom-image-manip.doc.html#51275">page &#32;272</a></a><br>
<tr valign=top><td><a name="60699">
Rotate</a><br><td><a name="65364">
Takes one rendered or renderable source image and rotates the image about a given point by a given angle, specified in radians.</a><br><td><a name="60706">
<a href="Geom-image-manip.doc.html#61009">page &#32;270</a></a><br>
<tr valign=top><td><a name="60690">
Scale</a><br><td><a name="65370">
Takes one rendered or renderable source image and translates and resizes the image.</a><br><td><a name="60697">
<a href="Geom-image-manip.doc.html#60938">page &#32;268</a></a><br>
<tr valign=top><td><a name="60681">
Shear</a><br><td><a name="65380">
Takes one rendered source image and shears the image either horizontally or vertically.</a><br><td><a name="60688">
<a href="Geom-image-manip.doc.html#57228">page &#32;283</a></a><br>
<tr valign=top><td><a name="60672">
Translate</a><br><td><a name="65389">
Takes one rendered or renderable source image and copies the image to a new location in the plane.</a><br><td><a name="60679">
<a href="Geom-image-manip.doc.html#60866">page &#32;266</a></a><br>
<tr valign=top><td><a name="60663">
Transpose</a><br><td><a name="65399">
Takes one rendered or renderable source image and flips or rotates the image as specified.</a><br><td><a name="60670">
<a href="Geom-image-manip.doc.html#66415">page &#32;281</a></a><br>
<tr valign=top><td><a name="60712">
Warp</a><br><td><a name="65405">
Takes one rendered source image and performs (possibly filtered) general warping on the image.</a><br><td><a name="60719">
<a href="Geom-image-manip.doc.html#53798">page &#32;285</a></a><br>

</Table>

<p><a name="60618">
<h3>3.6.4	<img src="shared/space.gif">Color Quantization Operators</h3>
</a>Color quantization, also known as <em>dithering</em>, is often used to reduce the appearance of amplitude contouring on monochrome frame buffers with fewer than eight bits of depth or color frame buffers with fewer than 24 bits of depth. <a href="Programming-environ.doc.html#60726">Table &#32;3-4</a> lists the JAI color quantization operators.<p> 
<Table Border="3" cellpadding=3>
<caption><font size=-1><b><a name="60726">
<i>Table 3-4	 </i><img src="shared/sm-blank.gif" border=0> Color Quantization Operators
</a></b></font></caption>
<tr valign=top><th><a name="60744">
Operator
</a><th><a name="60746">
Description
</a><th><a name="60748">
Reference
</a>
<tr valign=top><td><a name="60754">
ErrorDiffusion</a><br><td><a name="65411">
Takes one rendered source image and performs color quantization by finding the nearest color to each pixel in a supplied color map and "diffusing" the color quantization error below and to the right of the pixel.</a><br><td><a name="60761">
<a href="Image-manipulation.doc.html#56245">page &#32;181</a></a><br>
<tr valign=top><td><a name="60784">
OrderedDither</a><br><td><a name="65421">
Takes one rendered source image and performs color quantization by finding the nearest color to each pixel in a supplied color cube and "shifting" the resulting index value by a pseudo-random amount determined by the values of a supplied dither mask.</a><br><td><a name="60788">
<a href="Image-manipulation.doc.html#56241">page &#32;178</a></a><br>

</Table>

<p><a name="55610">
<h3>3.6.5	<img src="shared/space.gif">File Operators</h3>
</a>The file operators are used to read or write image files. <a href="Programming-environ.doc.html#55626">Table &#32;3-5</a> lists the JAI file operators.<p> 
<Table Border="3" cellpadding=3>
<caption><font size=-1><b><a name="55626">
<i>Table 3-5	 </i><img src="shared/sm-blank.gif" border=0> File Operators &#32;
</a></b></font></caption>
<tr valign=top><th><a name="55632">
Operator
</a><th><a name="55634">
Description
</a><th><a name="55636">
Reference
</a>
<tr valign=top><td><a name="55638">
AWTImage</a><br><td><a name="65427">
Converts a standard java.awt.Image into a rendered image.</a><br><td><a name="55645">
<a href="Acquisition.doc.html#62069">page &#32;118</a></a><br>
<tr valign=top><td><a name="58061">
BMP</a><br><td><a name="65437">
Reads a standard BMP input stream.</a><br><td><a name="58065">
<a href="Acquisition.doc.html#62011">page &#32;111</a></a><br>
<tr valign=top><td><a name="62822">
Encode</a><br><td><a name="65443">
Takes one rendered source image and writes the image to a given OutputStream in a specified format using the supplied encoding parameters.</a><br><td><a name="62826">
<a href="Encode.doc.html#56483">page &#32;362</a></a><br>
<tr valign=top><td><a name="60320">
FileLoad</a><br><td><a name="65449">
Reads an image from a file.</a><br><td><a name="60324">
<a href="Acquisition.doc.html#69930">page &#32;104</a></a><br>
<tr valign=top><td><a name="62802">
FileStore</a><br><td><a name="65455">
Takes one rendered source image and writes the image to a given file in a specified format using the supplied encoding parameters.</a><br><td><a name="62806">
<a href="Encode.doc.html#56452">page &#32;361</a></a><br>
<tr valign=top><td><a name="58093">
Format</a><br><td><a name="65461">
Takes one rendered or renderable source image and reformats it. This operation is capable of casting the pixel values of an image to a given data type, replacing the SampleModel and ColorModel of an image, and restructuring the image's tile grid layout.</a><br><td><a name="58097">
<a href="Acquisition.doc.html#79558">page &#32;119</a></a><br>
<tr valign=top><td><a name="55647">
FPX</a><br><td><a name="65471">
Reads an image from a FlashPix stream.</a><br><td><a name="55654">
<a href="Acquisition.doc.html#75837">page &#32;109</a></a><br>
<tr valign=top><td><a name="55656">
GIF</a><br><td><a name="65477">
Reads an image from a GIF stream.</a><br><td><a name="55663">
<a href="Acquisition.doc.html#61988">page &#32;110</a></a><br>
<tr valign=top><td><a name="64408">
IIP</a><br><td><a name="65483">
Provides client-side support of the Internet Imaging Protocol (IIP) in both the rendered and renderable modes. It creates a RenderedImage or a RenderableImage based on the data received from the IIP server, and optionally applies a sequence of operations to the created image.</a><br><td><a name="64412">
<a href="Client-server.doc.html#55178">page &#32;352</a></a><br>
<tr valign=top><td><a name="64402">
IIPResolution</a><br><td><a name="65493">
Provides client-side support of the Internet Imaging Protocol (IIP) in the rendered mode. It is resolution-specific. It requests from the IIP server an image at a particular resolution level, and creates a RenderedImage based on the data received from the server.</a><br><td><a name="64406">
<a href="Client-server.doc.html#55791">page &#32;357</a></a><br>
<tr valign=top><td><a name="55674">
JPEG</a><br><td><a name="65499">
Reads an image from a JPEG (JFIF) stream.</a><br><td><a name="55681">
<a href="Acquisition.doc.html#61965">page &#32;110</a></a><br>
<tr valign=top><td><a name="58171">
PNG</a><br><td><a name="65505">
Reads a standard PNG version 1.1 input stream.</a><br><td><a name="58175">
<a href="Acquisition.doc.html#62013">page &#32;112</a></a><br>
<tr valign=top><td><a name="58165">
PNM</a><br><td><a name="65511">
Reads a standard PNM file, including PBM, PGM, and PPM images of both ASCII and raw formats. It stores the image data into an appropriate SampleModel.</a><br><td><a name="58169">
<a href="Acquisition.doc.html#64990">page &#32;117</a></a><br>
<tr valign=top><td><a name="58214">
Stream</a><br><td><a name="65517">
Produces an image by decoding data from a SeekableStream. The allowable formats are those registered with the com.sun.media.jai.codec.ImageCodec class.</a><br><td><a name="58218">
<a href="Acquisition.doc.html#69929">page &#32;103</a></a><br>
<tr valign=top><td><a name="55683">
TIFF</a><br><td><a name="65527">
Reads TIFF 6.0 data from a SeekableStream.</a><br><td><a name="55690">
<a href="Acquisition.doc.html#61287">page &#32;104</a></a><br>
<tr valign=top><td><a name="61372">
URL</a><br><td><a name="65537">
Creates an output image whose source is specified by a Uniform Resource Locator (URL).</a><br><td><a name="61376">
<a href="Acquisition.doc.html#71531">page &#32;119</a></a><br>

</Table>

<p><a name="55692">
<h3>3.6.6	<img src="shared/space.gif">Frequency Operators</h3>
</a>Frequency operators are used to decompose an image from its spatial-domain form into a frequency-domain form of fundamental frequency components. Operators also are available to perform an inverse frequency transform, in which the image is converted from the frequency form back into the spatial form.
<p>JAI supports several frequency transform types. The most common frequency transform type is the <em>Fourier</em> <em>transform</em>. JAI uses the discrete form known as the <em>discrete Fourier transform</em>. The <em>inverse discrete Fourier transform</em> can be used to convert the image back to a spatial image. JAI also supports the <em>discrete cosine transform</em> and its opposite, the <em>inverse discrete cosine transform</em>.
<p><a href="Programming-environ.doc.html#55709">Table &#32;3-6</a> lists the JAI frequency operators.<p> 
<Table Border="3" cellpadding=3>
<caption><font size=-1><b><a name="55709">
<i>Table 3-6	 </i><img src="shared/sm-blank.gif" border=0> Frequency Operators &#32;
</a></b></font></caption>
<tr valign=top><th><a name="55715">
Operator
</a><th><a name="55717">
Description
</a><th><a name="55719">
Reference
</a>
<tr valign=top><td><a name="61404">
Conjugate</a><br><td><a name="65547">
Takes one rendered or renderable source image containing complex data and negates the imaginary components of the pixel values.</a><br><td><a name="61408">
<a href="Image-enhance.doc.html#66360">page &#32;236</a></a><br>
<tr valign=top><td><a name="60824">
DCT</a><br><td><a name="65557">
Takes one rendered or renderable source image and computes the even discrete cosine transform (DCT) of the image. Each band of the destination image is derived by performing a two-dimensional DCT on the corresponding band of the source image.</a><br><td><a name="60831">
<a href="Image-enhance.doc.html#65622">page &#32;232</a></a><br>
<tr valign=top><td><a name="55730">
DFT</a><br><td><a name="65567">
Takes one rendered or renderable source image and computes the discrete Fourier transform of the image.</a><br><td><a name="55737">
<a href="Image-enhance.doc.html#64002">page &#32;228</a></a><br>
<tr valign=top><td><a name="60837">
IDCT</a><br><td><a name="65573">
Takes one rendered or renderable source image and computes the inverse even discrete cosine transform (DCT) of the image. Each band of the destination image is derived by performing a two-dimensional inverse DCT on the corresponding band of the source image.</a><br><td><a name="60844">
<a href="Image-enhance.doc.html#65632">page &#32;233</a></a><br>
<tr valign=top><td><a name="55739">
IDFT</a><br><td><a name="65579">
Takes one rendered or renderable source image and computes the inverse discrete Fourier transform of the image. A positive exponential is used as the basis function for the transform.</a><br><td><a name="55746">
<a href="Image-enhance.doc.html#59922">page &#32;231</a></a><br>
<tr valign=top><td><a name="61451">
ImageFunction</a><br><td><a name="65589">
Generates an image on the basis of a functional description provided by an object that is an instance of a class that implements the ImageFunction interface.</a><br><td><a name="61455">
<a href="Image-enhance.doc.html#67438">page &#32;237</a></a><br>
<tr valign=top><td><a name="55748">
Magnitude</a><br><td><a name="65595">
Takes one rendered or renderable source image containing complex data and computes the magnitude of each pixel.</a><br><td><a name="55755">
<a href="Image-enhance.doc.html#66700">page &#32;234</a></a><br>
<tr valign=top><td><a name="55757">
MagnitudeSquared</a><br><td><a name="65601">
Takes one rendered or renderable source image containing complex data and computes the squared magnitude of each pixel.</a><br><td><a name="55764">
<a href="Image-enhance.doc.html#66728">page &#32;235</a></a><br>
<tr valign=top><td><a name="61413">
PeriodicShift</a><br><td><a name="65607">
Takes a rendered or renderable source image and generates a destination image that is the infinite periodic extension of the source image, with horizontal and vertical periods equal to the image width and height, respectively, shifted by a specified amount along each axis and clipped to the bounds of the source image.</a><br><td><a name="61417">
<a href="Image-enhance.doc.html#66438">page &#32;236</a></a><br>
<tr valign=top><td><a name="55766">
Phase</a><br><td><a name="65617">
Takes one rendered or renderable source image containing complex data and computes the phase angle of each pixel.</a><br><td><a name="55773">
<a href="Image-enhance.doc.html#66739">page &#32;235</a></a><br>
<tr valign=top><td><a name="61430">
PolarToComplex</a><br><td><a name="65623">
Takes two rendered or renderable source images and creates an image with complex-valued pixels from the two images the respective pixel values of which represent the magnitude (modulus) and phase of the corresponding complex pixel in the destination image.</a><br><td><a name="61434">
<a href="Image-enhance.doc.html#67381">page &#32;237</a></a><br>

</Table>

<p><a name="55775">
<h3>3.6.7	<img src="shared/space.gif">Statistical Operators</h3>
</a>Statistical operators provide the means to analyze the content of an image. <a href="Programming-environ.doc.html#55787">Table &#32;3-7</a> lists the JAI statistical operators.<p> 
<Table Border="3" cellpadding=3>
<caption><font size=-1><b><a name="55787">
<i>Table 3-7	 </i><img src="shared/sm-blank.gif" border=0> Statistical Operators
</a></b></font></caption>
<tr valign=top><th><a name="55793">
Operator
</a><th><a name="55795">
Description
</a><th><a name="55797">
Reference
</a>
<tr valign=top><td><a name="55799">
Extrema</a><br><td><a name="65629">
Takes one rendered source image, scans a specific region of the image, and finds the maximum and minimum pixel values for each band within that region of the image. The image data pass through this operation unchanged.</a><br><td><a name="55806">
<a href="Analysis.doc.html#54907">page &#32;308</a></a><br>
<tr valign=top><td><a name="55808">
Histogram</a><br><td><a name="65639">
Takes one rendered source image, scans a specific region of the image, and generates a histogram based on the pixel values within that region of the image. The histogram data is stored in the user supplied javax.media.jai.Histogram object, and may be retrieved by calling the getProperty method on this operation with "histogram" as the property name. The return value will be of type javax.media.jai.Histogram. The image data pass through this operation unchanged.</a><br><td><a name="55815">
<a href="Analysis.doc.html#54836">page &#32;310</a></a><br>
<tr valign=top><td><a name="55817">
Mean</a><br><td><a name="65645">
Takes a rendered source image, scans a specific region, and computes the mean pixel value for each band within that region of the image. The image data pass through this operation unchanged.</a><br><td><a name="55824">
<a href="Analysis.doc.html#54841">page &#32;307</a></a><br>

</Table>

<p><a name="55826">
<h3>3.6.8	<img src="shared/space.gif">Edge Extraction Operators</h3>
</a>The edge extraction operators allow image edge enhancement. Edge enhancement reduces an image to show only its edge details. Edge enhancement is implemented through spatial filters that detect a specific <em>pixel brightness slope</em> within a group of pixels in an image. A steep brightness slope indicates the presence of an edge.
<p><a href="Programming-environ.doc.html#55835">Table &#32;3-8</a> lists the JAI edge extraction operators.<p> 
<Table Border="3" cellpadding=3>
<caption><font size=-1><b><a name="55835">
<i>Table 3-8	 </i><img src="shared/sm-blank.gif" border=0> Edge Extraction Operators
</a></b></font></caption>
<tr valign=top><th><a name="55841">
Operator
</a><th><a name="55843">
Description
</a><th><a name="55845">
Reference
</a>
<tr valign=top><td><a name="55847">
GradientMagnitude</a><br><td><a name="65651">
Takes one rendered source image and computes the magnitude of the image gradient vector in two orthogonal directions.</a><br><td><a name="55854">
<a href="Analysis.doc.html#51214">page &#32;315</a></a><br>

</Table>

<p><a name="63124">
<h3>3.6.9	<img src="shared/space.gif">Miscellaneous Operators</h3>
</a>The miscellaneous operators do not fall conveniently into any of the previous categories. <a href="Programming-environ.doc.html#63128">Table &#32;3-9</a> lists the JAI miscellaneous operators.<p> 
<Table Border="3" cellpadding=3>
<caption><font size=-1><b><a name="63128">
<i>Table 3-9	 </i><img src="shared/sm-blank.gif" border=0> Miscellaneous Operators
</a></b></font></caption>
<tr valign=top><th><a name="63146">
Operator
</a><th><a name="63148">
Description
</a><th><a name="63150">
Reference
</a>
<tr valign=top><td><a name="63140">
Renderable</a><br><td><a name="65661">
Takes one rendered source image and produces a RenderableImage consisting of a "pyramid" of RenderedImages at progressively lower resolutions.</a><br><td><a name="63144">
<a href="Acquisition.doc.html#81553">page &#32;122</a></a><br>

</Table>

<p><a name="58389">
<h2>3.7	<img src="shared/space.gif">Creating Operations</h2>
</a>Most image operation objects are created with some variation on the following methods:
<p><a name="59299">
<h5> For a renderable graph:</h5>
</a>There are four variations on methods for creating operations in the Renderable mode, as listed in <a href="Programming-environ.doc.html#63845">Table &#32;3-10</a>.<p> 
<Table Border="3" cellpadding=3>
<caption><font size=-1><b><a name="63845">
<i>Table 3-10	 </i><img src="shared/sm-blank.gif" border=0> JAI Class Renderable Mode Methods
</a></b></font></caption>
<tr valign=top><th><a name="63851">
Method
</a><th><a name="63853">
Parameters
</a><th><a name="63855">
Description
</a>
<tr valign=top><td><a name="63857">
createRenderable</a><br><td><a name="63859">
opName</a><br><a name="63860">
parameterBlock</a><br><td><a name="63862">
Creates a RenderableOp that represents the named operation, using the sources and parameters specified in the ParameterBlock.</a><br>
<tr valign=top><td><a name="63864">
createRenderableNS</a><br><td><a name="63866">
opName</a><br><a name="63867">
parameterBlock</a><br><td><a name="63869">
The same as the previous method, only this version is non-static.</a><br>
<tr valign=top><td><a name="63871">
createRenderable-Collection</a><br><td><a name="63873">
opName</a><br><a name="63874">
parameterBlock</a><br><td><a name="63876">
Creates a Collection that represents the named operation, using the sources and parameters specified in the ParameterBlock.</a><br>
<tr valign=top><td><a name="63878">
createRenderable-CollectionNS</a><br><td><a name="63880">
opName</a><br><a name="63881">
parameterBlock</a><br><td><a name="63883">
The same as the previous method, only this version is non-static.</a><br>

</Table>

<p>For example:
<p><pre><hr>
     RenderableOp im = JAI.createRenderable("operationName",
</pre><pre>                                 paramBlock);

<hr></pre>The <code>JAI.createRenderable</code> method creates a renderable node operation that takes two parameters:
<p><ul>
<li>An operation name (see <a href="Programming-environ.doc.html#58937">Section &#32;3.7.1, "Operation Name</a>")<p></ul><ul>
<li>A source and a set of parameters for the operation contained in a parameter block (see <a href="Programming-environ.doc.html#58271">Section &#32;3.7.2, "Parameter Blocks</a>")<p></ul><a name="59332">
<h5> For a rendered graph:</h5>
</a>There are a great many more variations on methods for creating operations in the Rendered mode, as listed in <a href="Programming-environ.doc.html#63905">Table &#32;3-11</a>. The first five methods in the table take sources and parameters specified in a <code>ParameterBlock</code>. The remaining methods are convenience methods that take various numbers of sources and parameters directly.<p> 
<Table Border="3" cellpadding=3>
<caption><font size=-1><b><a name="63905">
<i>Table 3-11	 </i><img src="shared/sm-blank.gif" border=0> JAI Class Rendered Mode Methods &#32;
</a></b></font></caption>
<tr valign=top><th><a name="63911">
Method
</a><th><a name="63913">
Parameters
</a><th><a name="63915">
Description
</a>
<tr valign=top><td><a name="63917">
create</a><br><td><a name="63919">
opName</a><br><a name="63920">
parameterBlock</a><br><a name="63921">
hints</a><br><td><a name="63923">
Creates a RenderedOp that represents the named operation, using the sources and parameters specified in the ParameterBlock, and applying the specified hints to the destination. This method is appropriate only when the final results return a single RenderedImage.</a><br>
<tr valign=top><td><a name="63925">
createNS</a><br><td><a name="63927">
opName</a><br><a name="63928">
parameterBlock</a><br><a name="63929">
hints</a><br><td><a name="63931">
The same as the previous method, only this version is non-static.</a><br>
<tr valign=top><td><a name="63933">
createCollection</a><br><td><a name="63935">
opName</a><br><a name="63936">
parameterBlock</a><br><a name="63937">
hints</a><br><td><a name="63939">
Creates a Collection that represents the named operation, using the sources and parameters specified in the ParameterBlock, and applying the specified hints to the destination. This method is appropriate only when the final results return a Collection.</a><br>
<tr valign=top><td><a name="63941">
createCollectionNS</a><br><td><a name="63943">
opName</a><br><a name="63944">
parameterBlock</a><br><a name="63945">
hints</a><br><td><a name="63947">
The same as the previous method, only this version is non-static.</a><br>
<tr valign=top><td><a name="63962">
create</a><br><td><a name="63964">
opName</a><br><a name="63965">
parameterBlock</a><br><td><a name="63967">
Creates a RenderedOp with null rendering hints.</a><br>
<tr valign=top><td><a name="63969">
create</a><br><td><a name="63971">
opName</a><br><a name="63972">
param</a><br><td><a name="63974">
Creates a RenderedOp that takes one parameter.</a><br>
<tr valign=top><td><a name="63976">
create</a><br><td><a name="63978">
opName</a><br><a name="63979">
param1</a><br><a name="63980">
param2</a><br><td><a name="63982">
Creates a RenderedOp that takes two parameters. There are two variations on this method, depending on the parameter data type (Object or int).</a><br>
<tr valign=top><td><a name="63984">
create</a><br><td><a name="63986">
opName</a><br><a name="63987">
param1</a><br><a name="63988">
param2</a><br><a name="63989">
param3</a><br><td><a name="63991">
Creates a RenderedOp that takes three parameters. There are two variations on this method, depending on the parameter data type (Object or int).</a><br>
<tr valign=top><td><a name="63993">
create</a><br><td><a name="63995">
opName</a><br><a name="63996">
param1</a><br><a name="63997">
param2</a><br><a name="63998">
param3</a><br><a name="63999">
param4</a><br><td><a name="64164">
Creates a RenderedOp that takes four parameters. There are two variations on this method, depending on the parameter data type (Object or int).</a><br>
<tr valign=top><td><a name="64003">
create</a><br><td><a name="64005">
opName</a><br><a name="64006">
renderedImage</a><br><td><a name="64008">
Creates a RenderedOp that takes one source image.</a><br>
<tr valign=top><td><a name="64010">
create</a><br><td><a name="64012">
opName</a><br><a name="64013">
Collection</a><br><td><a name="64015">
Creates a RenderedOp that takes one source collection.</a><br>
<tr valign=top><td><a name="64017">
create</a><br><td><a name="64019">
opName</a><br><a name="64020">
renderedImage</a><br><a name="64021">
param</a><br><td><a name="64023">
Creates a RenderedOp that takes one source and one parameter. There are two variations on this method, depending on the parameter data type (Object or int).</a><br>
<tr valign=top><td><a name="64025">
create</a><br><td><a name="64027">
opName</a><br><a name="64028">
renderedImage</a><br><a name="64029">
param1</a><br><a name="64030">
param2</a><br><td><a name="64192">
Creates a RenderedOp that takes one source and two parameters. There are two variations on this method, depending on the parameter data type (Object or float).</a><br>
<tr valign=top><td><a name="64034">
create</a><br><td><a name="64036">
opName</a><br><a name="64037">
renderedImage</a><br><a name="64038">
param1</a><br><a name="64039">
param2</a><br><a name="64040">
param3</a><br><td><a name="64042">
Creates a RenderedOp that takes one source and three parameters. There are three variations on this method, depending on the parameter data type (Object, int, or float).</a><br>
<tr valign=top><td><a name="64044">
create</a><br><td><a name="64046">
opName</a><br><a name="64047">
renderedImage</a><br><a name="64048">
param1</a><br><a name="64049">
param2</a><br><a name="64050">
param3</a><br><a name="64051">
param4</a><br><td><a name="64212">
Creates a RenderedOp that takes one source and four parameters. There are four variations on this method, depending on the parameter data type (Object, int, or float).</a><br>
<tr valign=top><td><a name="64055">
create</a><br><td><a name="64057">
opName</a><br><a name="64058">
renderedImage</a><br><a name="64059">
param1</a><br><a name="64060">
param2</a><br><a name="64061">
param3</a><br><a name="64062">
param4</a><br><a name="64063">
param5</a><br><td><a name="64222">
Creates a RenderedOp that takes one source and five parameters. There are three variations on this method, depending on the parameter data type (Object, int, or float).</a><br>
<tr valign=top><td><a name="64067">
create</a><br><td><a name="64069">
opName</a><br><a name="64070">
renderedImage</a><br><a name="64071">
param1</a><br><a name="64072">
param2</a><br><a name="64073">
param3</a><br><a name="64074">
param4</a><br><a name="64075">
param5</a><br><a name="64076">
param6</a><br><td><a name="64238">
Creates a RenderedOp that takes one source and six parameters. There are two variations on this method, depending on the parameter data type (Object or int).</a><br>
<tr valign=top><td><a name="64080">
create</a><br><td><a name="64082">
opName</a><br><a name="64083">
renderedImage1</a><br><a name="64084">
renderedImage2</a><br><td><a name="64086">
Creates a RenderedOp that takes two sources.</a><br>
<tr valign=top><td><a name="64088">
create</a><br><td><a name="64090">
opName</a><br><a name="64091">
renderedImage1</a><br><a name="64092">
renderedImage2</a><br><a name="64093">
param1</a><br><a name="64094">
param2</a><br><td><a name="64096">
Creates a RenderedOp that takes two sources and four parameters.</a><br>
<tr valign=top><td><a name="64098">
createCollection</a><br><td><a name="64100">
opName</a><br><a name="64101">
parameterBlock</a><br><td><a name="64103">
Creates a Collection with null rendering hints.</a><br>

</Table>

<p>Two versions of the <code>create</code> method are non-static and are identified as <code>createNS</code>. These methods may be used with a specific instance of the <code>JAI</code> class and should only be used when the final result returned is a single <code>RenderedImage</code>. However, the source (or sources) supplied may be a collection of images or a collection of collections. The following is an example of one of these methods:<p>
<caption><font size=-1><b></b></font></caption>
<hr>
<tr valign=top><td colspan=1 rowspan=2><pre>     RenderedOp im = JAI.createNS("operationName", source, param1,
                                param2)
</pre>
<tr valign=top>

<hr>

<p>The rendering hints associated with this instance of <code>JAI</code> are overlaid with the hints passed to this method. That is, the set of keys will be the union of the keys from the instance's hints and the hints parameter. If the same key exists in both places, the value from the hints parameter will be used.
<p>Many of the JAI operations have default values for some of the parameters. If you wish to use any of the default values in an operation, you do not have to specify that particular parameter in the <code>ParameterBlock</code>. The default value is automatically used in the operation. Parameters that do not have default values are required; failure to supply a required parameter results in a <code>NullPointerException</code>.
<p><a name="58937">
<h3>3.7.1	<img src="shared/space.gif">Operation Name</h3>
</a>The operation name describes the operator to be created. The operation name is a string, such as <code>"add"</code> for the operation to add two images. See <a href="Programming-environ.doc.html#55112">Section &#32;3.6, "JAI API Operators</a>," for a list of the operator names.
<p>The operation name is always enclosed in quotation marks. For example:
<p><pre>     "Mean"
     "BoxFilter"
     "UnsharpMask"
</pre>The operation name parsing is case-insensitive. All of the following variations are legal:
<p><pre>     "OrConst"
     "orConst"
     "ORconst"
     "ORCONST"
     "orconst"
</pre><a name="58271">
<h3>3.7.2	<img src="shared/space.gif">Parameter Blocks</h3>
</a>The parameter block contains the source of the operation and a set parameters used by the operation. The contents of the parameter block depend on the operation being created and may be as simple as the name of the source image or may contain all of the operator parameters (such as the <em>x</em> and <em>y</em> displacement and interpolation type for the <code>translate</code> operation).
<p>Parameter blocks encapsulate all the information about sources and parameters (Objects) required by the operation. The parameters specified by a parameter block are objects.
<p>These controlling parameters and sources can be edited through the <code>setParameterBlock</code> method to affect specific operations or even the structure of the rendering chain itself. The modifications affect future <code>RenderedImages</code> derived from points in the chain below where the change took place.
<p>There are two separate classes for specifying parameter blocks:
<p><ul>
<li><code>java.awt.image.renderable.ParameterBlock</code> - the main class for specifying and changing parameter blocks.<p></ul><ul>
<li><code>javax.media.jai.ParameterBlockJAI</code> - extends <code>ParameterBlock</code> by allowing the use of default parameter values and the use of parameter names.<p></ul>The parameter block must contain the same number of sources and parameters as required by the operation (unless ParameterBlockJAI is used and the operation supplies default values). Note that, if the operation calls for one or more source images, they must be specified in the parameter block. For example, the <code>Add</code> operation requires two source images and no parameters. The <code>addConst</code> operator requires one source and a parameter specifying the constant value.
<p>If the sources and parameters do not match the operation requirements, an exception is thrown. However, when the <code>ParameterBlockJAI</code> class is used, if the required parameter values are not specified, default parameter values are automatically inserted when available. For some operations, default parameter values are not available and must be supplied.
<p><a name="59416">
<h4>3.7.2.1	<img src="shared/space.gif">Adding Sources to a Parameter Block</h4>
</a>Sources are added to a parameter block with the <code>addSource()</code> method. The following example creates a new <code>ParameterBlock</code> named <code>pb</code> and then the <code>addSource()</code> method is used to add the source image (<code>im0</code>) to the <code>ParameterBlock</code>.<p>
<caption><font size=-1><b></b></font></caption>
<hr>
<tr valign=top><td colspan=1 rowspan=2><pre>     ParameterBlock pb = new ParameterBlock();
     pb.addSource(im0);
</pre>
<tr valign=top>

<hr>

<p>To add two sources to a parameter block, use two <code>addSource()</code> methods.<p>
<caption><font size=-1><b></b></font></caption>
<hr>
<tr valign=top><td colspan=1 rowspan=3><pre>     ParameterBlock pb = new ParameterBlock();
     pb.addSource(im0);
     pb.addSource(im1);
</pre>
<tr valign=top>
<tr valign=top>

<hr>

<p><a name="59442">
<h4>3.7.2.2	<img src="shared/space.gif">Adding or Setting Parameters</h4>
</a>As described before, there are two separate classes for specifying parameter blocks: <code>ParameterBlock</code> and <code>ParameterBlockJAI</code>. Both classes work very much alike, except for two differences: <code>ParameterBlockJAI</code> automatically provides default parameter values and allows setting parameters by name; <code>ParameterBlock</code> does not.<code></code>
<p><a name="59876">
<h5> ParameterBlock</h5>
</a>The operation parameters are added to a <code>ParameterBlock</code> with the <code>ParameterBlock.add()</code> method. The following example adds two values (<code>150</code> and <code>200</code>) to the <code>ParameterBlock</code> named <code>pb</code>, which was created in the previous example.<p>
<caption><font size=-1><b></b></font></caption>
<hr>
<tr valign=top><td colspan=1 rowspan=2><pre>     pb.add(150);
     pb.add(200);
</pre>
<tr valign=top>

<hr>

<p>The <code>add()</code> method can be used with all of the supported data types: byte, short, integer, long, float, and double. When using the <code>ParameterBlock</code> object, all parameters that an operation requires must be added, else the operation will fail.<code></code>
<p><table border = 0>
<tr>
<td><img src = "shared/cistine.gif"></td>
<td><hr>
<b>API:</b> <code>java.awt.image.renderable.ParameterBlock
</code>
<hr>
</td>
</table><pre><ul>
<li>ParameterBlock addSource(Object source)
<p></ul></pre><dl>
<a name="59948">
<dt><dd> adds an image to the end of the list of sources. The image is stored as an object to allow new node types in the future.
</a><P></dl>
<pre><ul>
<li>ParameterBlock add(byte b)
<p></ul></pre><dl>
<a name="59950">
<dt><dd> adds a Byte to the list of parameters.
</a><P></dl>
<pre><ul>
<li>ParameterBlock add(short s)
<p></ul></pre><dl>
<a name="59952">
<dt><dd> adds a Short to the list of parameters.
</a><P></dl>
<pre><ul>
<li>ParameterBlock add(int i)
<p></ul></pre><dl>
<a name="59954">
<dt><dd> adds an Integer to the list of parameters.
</a><P></dl>
<pre><ul>
<li>ParameterBlock add(long l)
<p></ul></pre><dl>
<a name="59956">
<dt><dd> adds a Long to the list of parameters.
</a><P></dl>
<pre><ul>
<li>ParameterBlock add(float f)
<p></ul></pre><dl>
<a name="59958">
<dt><dd> adds a Float to the list of parameters.
</a><P></dl>
<pre><ul>
<li>ParameterBlock add(double d)
<p></ul></pre><dl>
<a name="59960">
<dt><dd> adds a Double to the list of parameters.
</a><P></dl>
<a name="59877">
<h5> ParameterBlockJAI</h5>
</a>Since the <code>ParameterBlockJAI</code> object already contains default values for the parameters at the time of construction, the parameters must be changed (or set) with the <code>ParameterBlockJAI.set(value, index)</code> methods rather than the <code>add()</code> method. The <code>add()</code> methods should not be used since the parameter list is already long enough to hold all of the parameters required by the <code>OperationDescriptor</code>.
<p><a href="Programming-environ.doc.html#61952">Listing &#32;3-3</a> shows the creation of a <code>ParameterBlockJAI</code> intended to be passed to a rotate operation. The rotate operation takes four parameters: <code>xOrigin</code>, <code>yOrigin</code>, <code>angle</code>, and <code>interpolation</code>. The default values for <code>xOrigin</code> and <code>yOrigin</code> are 0.0F (for both). In this example, these two values are not set, as the default values are sufficient for the operation. The other two parameters (<code>angle</code> and <code>interpolation</code>) have default values of <code>null</code> and must therefore be set. The source image must also be specified.<p>
<caption><font size=-1><b>
<a name="61952">
<center><font size=-1><b><i>Listing 3-3	</i><img src="shared/sm-blank.gif" border=0> Example ParameterBlockJAI</b></font></center>
</a><p>
</b></font></caption>
<hr>
<tr valign=top><td colspan=1 rowspan=3><pre>     // Specify the interpolation method to be used
     interp = Interpolation.create(Interpolation.INTERP_NEAREST);
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top><td colspan=1 rowspan=5><pre>     // Create the ParameterBlockJAI and add the interpolation to it
     ParameterBlockJAI pb = new ParameterBlockJAI();
     pb.addSource(im);                 // The source image
     pb.set(1.2F, "angle");            // The rotation angle in radians
     pb.set(interp, "interpolation");  // The interpolation method
</pre>
<tr valign=top>
<tr valign=top>
<tr valign=top>
<tr valign=top>

<hr>

<p><table border = 0>
<tr>
<td><img src = "shared/cistine.gif"></td>
<td><hr>
<b>API:</b> <code>javax.media.jai.ParameterBlockJAI
</code>
<hr>
</td>
</table><pre><ul>
<li>ParameterBlock set(byte b, String paramName)
<p></ul></pre><dl>
<a name="59733">
<dt><dd> sets a named parameter to a byte value.
</a><P></dl>
<pre><ul>
<li>ParameterBlock set(char c, String paramName)
<p></ul></pre><dl>
<a name="59752">
<dt><dd> sets a named parameter to a char value.
</a><P></dl>
<pre><ul>
<li>ParameterBlock set(int i, String paramName)
<p></ul></pre><dl>
<a name="59786">
<dt><dd> sets a named parameter to an int value.
</a><P></dl>
<pre><ul>
<li>ParameterBlock set(short s, String paramName)
<p></ul></pre><dl>
<a name="59859">
<dt><dd> sets a named parameter to a short value.
</a><P></dl>
<pre><ul>
<li>ParameterBlock set(long l, String paramName)
<p></ul></pre><dl>
<a name="59803">
<dt><dd> sets a named parameter to a long value.
</a><P></dl>
<pre><ul>
<li>ParameterBlock set(float f, String paramName)
<p></ul></pre><dl>
<a name="59820">
<dt><dd> sets a named parameter to a float value.
</a><P></dl>
<pre><ul>
<li>ParameterBlock set(double d, String paramName)
<p></ul></pre><dl>
<a name="59833">
<dt><dd> sets a named parameter to a double value.
</a><P></dl>
<pre><ul>
<li>ParameterBlock set(java.lang.Object obj, String paramName)
<p></ul></pre><dl>
<a name="59850">
<dt><dd> sets a named parameter to an Object value.<code></code>
</a><P></dl>
<a name="55991">
<h3>3.7.3	<img src="shared/space.gif">Rendering Hints</h3>
</a>The rendering hints contain a set of hints that describe how objects are to be rendered. The rendering hints are always optional in any operation.
<p>Rendering hints specify different rendering algorithms for such things as antialiasing, alpha interpolation, and dithering. Many of the hints allow a choice between rendering quality or speed. Other hints turn off or on certain rendering options, such as antialiasing and fractional metrics.
<p>There are two separate classes for specifying rendering hints:
<p><ul>
<li><code>java.awt.RenderingHints</code> - contains rendering hints that can be used by the <code>Graphics2D</code> class, and classes that implement <code>BufferedImageOp</code> and <code>Raster</code>. <p></ul><ul>
<li><code>javax.media.jai.JAI</code> - provides methods to define the RenderingHints keys specific to JAI.<p></ul><a name="62404">
<h4>3.7.3.1	<img src="shared/space.gif">Java AWT Rendering Hints</h4>
</a><a href="Programming-environ.doc.html#60917">Table &#32;3-12</a> lists the rendering hints inherited from <code>java.awt.RenderingHints</code>.<p> 
<Table Border="3" cellpadding=3>
<caption><font size=-1><b><a name="60917">
<i>Table 3-12	 </i><img src="shared/sm-blank.gif" border=0> Java AWT Rendering Hints &#32;
</a></b></font></caption>
<tr valign=top><th><a name="60923">
Key
</a><th><a name="60925">
Value
</a><th><a name="60927">
Description
</a>
<tr valign=top><td colspan=1 rowspan=3><a name="60930">
Alpha_Interpolation</a><br><td><a name="60932">
Alpha_Interpolation_<br>Default</a><br><td><a name="60934">
Rendering is done with the platform default alpha interpolation.</a><br>
<tr valign=top><td><a name="60938">
Alpha_Interpolation_<br>Quality</a><br><td><a name="60940">
Appropriate rendering algorithms are chosen with a preference for output quality.</a><br>
<tr valign=top><td><a name="60944">
Alpha_Interpolation_Speed</a><br><td><a name="60946">
Appropriate rendering algorithms are chosen with a preference for output speed.</a><br>
<tr valign=top><td colspan=1 rowspan=3><a name="60949">
Antialiasing</a><br><td><a name="60951">
Antialias_Default</a><br><td><a name="60953">
Rendering is done with the platform default antialiasing mode.</a><br>
<tr valign=top><td><a name="60957">
Antialias_Off</a><br><td><a name="60959">
Rendering is done without antialiasing.</a><br>
<tr valign=top><td><a name="60963">
Antialias_On</a><br><td><a name="60965">
Rendering is done with antialiasing</a><br>
<tr valign=top><td colspan=1 rowspan=3><a name="60968">
Color_Rendering</a><br><td><a name="60970">
Color_Render_Default</a><br><td><a name="60972">
Rendering is done with the platform default color rendering.</a><br>
<tr valign=top><td><a name="60976">
Color_Render_Quality</a><br><td><a name="60978">
Appropriate rendering algorithms are chosen with a preference for output quality.</a><br>
<tr valign=top><td><a name="60982">
Color_Render_Speed</a><br><td><a name="60984">
Appropriate rendering algorithms are chosen with a preference for output speed.</a><br>
<tr valign=top><td colspan=1 rowspan=3><a name="60987">
Dithering</a><br><td><a name="60989">
Dither_Default</a><br><td><a name="60991">
Use the platform default for dithering.</a><br>
<tr valign=top><td><a name="60995">
Dither_Disable</a><br><td><a name="60997">
Do not do dither when rendering.</a><br>
<tr valign=top><td><a name="61001">
Dither_Enable</a><br><td><a name="61003">
Dither with rendering when needed.</a><br>
<tr valign=top><td colspan=1 rowspan=3><a name="61006">
FractionalMetrics</a><br><td><a name="61008">
FractionalMetrics_Default</a><br><td><a name="61010">
Use the platform default for fractional metrics.</a><br>
<tr valign=top><td><a name="61014">
FractionalMetrics_Off</a><br><td><a name="61016">
Disable fractional metrics.</a><br>
<tr valign=top><td><a name="61020">
FractionalMetrics_On</a><br><td><a name="61022">
Enable fractional metrics.</a><br>
<tr valign=top><td colspan=1 rowspan=3><a name="61025">
Interpolation</a><br><td><a name="61027">
Interpolation_Bicubic</a><br><td><a name="61029">
Perform bicubic interpolation.</a><br>
<tr valign=top><td><a name="61033">
Interpolation_Bilinear</a><br><td><a name="61035">
Perform bilinear interpolation.</a><br>
<tr valign=top><td><a name="61039">
Interpolation_Nearest_<br>Neighbor</a><br><td><a name="61041">
Perform nearest-neighbor interpolation.</a><br>
<tr valign=top><td colspan=1 rowspan=3><a name="61044">
Rendering</a><br><td><a name="61046">
Render_Default</a><br><td><a name="61048">
The platform default rendering algorithms will be chosen.</a><br>
<tr valign=top><td><a name="61052">
Render_Quality</a><br><td><a name="61054">
Appropriate rendering algorithms are chosen with a preference for output quality.</a><br>
<tr valign=top><td><a name="61058">
Render_Speed</a><br><td><a name="61060">
Appropriate rendering algorithms are chosen with a preference for output speed.</a><br>
<tr valign=top><td colspan=1 rowspan=3><a name="61063">
Text_Antialiasing</a><br><td><a name="61065">
Text_Antialias_Default</a><br><td><a name="61067">
Text rendering is done using the platform default text antialiasing mode.</a><br>
<tr valign=top><td><a name="61071">
Text_Antialias_Off</a><br><td><a name="61073">
Text rendering is done without antialiasing.</a><br>
<tr valign=top><td><a name="61077">
Text_Antialias_On</a><br><td><a name="61079">
Text rendering is done with antialiasing.</a><br>

</Table>

<p>To set the rendering hints, create a <code>RenderingHints</code> object and pass it to the <code>JAI.create</code> method you want to affect. Setting a rendering hint does not guarantee that a particular rendering algorithm, will be used; not all platforms support modification of the rendering code.
<p>In the following example, the rendering preference is set to quality.<p>
<caption><font size=-1><b></b></font></caption>
<hr>
<tr valign=top><td colspan=1 rowspan=3><pre>     qualityHints = new
                    RenderingHints(RenderingHints.KEY_RENDERING,
                    RenderingHints.VALUE_RENDER_QUALITY);
</pre>
<tr valign=top>
<tr valign=top>

<hr>

<p>Now that a <code>RenderingHints</code> object, <code>qualityHints</code>, has been created, the hints can be used in an operation using a <code>JAI.create</code> method.
<p><a name="62378">
<h4>3.7.3.2	<img src="shared/space.gif">JAI Rendering Hints</h4>
</a>Each instance of a <code>JAI</code> object contains a set of rendering hints that will be used for all image or collection creations. These hints are merged with any hints supplied to the <code>JAI.create</code> method; directly supplied hints take precedence over the common hints. When a new <code>JAI</code> instance is constructed, its hints are initialized to a copy of the hints associated with the default instance. The hints associated with any instance, including the default instance, may be manipulated using the <code>getRenderingHint</code>, <code>setRenderingHints</code>, and <code>clearRenderingHints</code> methods. As a convenience, <code>getRenderingHint</code>, <code>setRenderingHint</code>, and <code>removeRenderingHint</code> methods are provided that allow individual hints to be manipulated. <a href="Programming-environ.doc.html#61091">Table &#32;3-13</a> lists the JAI rendering hints.<p> 
<Table Border="3" cellpadding=3>
<caption><font size=-1><b><a name="61091">
<i>Table 3-13	 </i><img src="shared/sm-blank.gif" border=0> JAI Rendering hints &#32;
</a></b></font></caption>
<tr valign=top><th><a name="61097">
Key
</a><th><a name="61099">
Value
</a><th><a name="61101">
Description
</a>
<tr valign=top><td colspan=1 rowspan=5><a name="61494">
HINT_BORDER_EXTENDER</a><br><td><a name="61496">
BorderExtenderZero</a><br><td><a name="61498">
Extends an image's border by filling all pixels outside the image bounds with zeros.</a><br>
<tr valign=top><td><a name="62573">
BorderExtenderConstant</a><br><td><a name="62575">
Extends an image's border by filling all pixels outside the image bounds with constant values.</a><br>
<tr valign=top><td><a name="61514">
BorderExtenderCopy</a><br><td><a name="61543">
Extends an image's border by filling all pixels outside the image bounds with copies of the edge pixels.</a><br>
<tr valign=top><td><a name="61508">
BorderExtenderWrap</a><br><td><a name="61577">
Extends an image's border by filling all pixels outside the image bounds with copies of the whole image.</a><br>
<tr valign=top><td><a name="61502">
BorderExtenderReflect</a><br><td><a name="61595">
Extends an image's border by filling all pixels outside the image bounds with copies of the whole image.</a><br>
<tr valign=top><td colspan=1 rowspan=10><a name="61146">
HINT_IMAGE_LAYOUT</a><br><td><a name="61148">
Width</a><br><td><a name="61150">
The image's width.</a><br>
<tr valign=top><td><a name="61154">
Height</a><br><td><a name="61156">
The image's height</a><br>
<tr valign=top><td><a name="61160">
MinX</a><br><td><a name="61162">
The image's minimum <em>x</em> coordinate.</a><br>
<tr valign=top><td><a name="61166">
MinY</a><br><td><a name="61168">
The image's minimum <em>y</em> coordinate</a><br>
<tr valign=top><td><a name="61172">
TileGridXOffset</a><br><td><a name="61174">
The <em>x</em> coordinate of tile (0, 0).</a><br>
<tr valign=top><td><a name="61178">
TileGridYOffset</a><br><td><a name="61180">
The <em>y</em> coordinate of tile (0, 0).</a><br>
<tr valign=top><td><a name="61184">
TileWidth</a><br><td><a name="61186">
The width of a tile.</a><br>
<tr valign=top><td><a name="61190">
TileHeight</a><br><td><a name="61192">
The height of a tile.</a><br>
<tr valign=top><td><a name="61196">
 SampleModel
</a><td><a name="61198">
The image's SampleModel.</a><br>
<tr valign=top><td><a name="61202">
ColorModel</a><br><td><a name="61204">
The image's ColorModel.</a><br>
<tr valign=top><td colspan=1 rowspan=4><a name="61207">
HINT_INTERPOLATION</a><br><td><a name="61209">
 InterpolationNearest
</a><td><a name="61211">
Perform nearest-neighbor interpolation.</a><br>
<tr valign=top><td><a name="61215">
 InterpolationBilinear
</a><td><a name="61217">
Perform bilinear interpolation.</a><br>
<tr valign=top><td><a name="61221">
InterpolationBicubic</a><br><td><a name="61223">
Perform bicubic interpolation.</a><br>
<tr valign=top><td><a name="61227">
InterpolationBicubic2</a><br><td><a name="61229">
Perform bicubic interpolation.</a><br>
<tr valign=top><td colspan=1 rowspan=3><a name="61610">
HINT_OPERATION_BOUND</a><br><td><a name="61612">
OpImage.OP_COMPUTE_<br>BOUND</a><br><td><a name="61614">
An operation is likely to spend its time mainly performing computation.</a><br>
<tr valign=top><td><a name="61633">
 OpImage.OP_IO_BOUND
</a><td><a name="61635">
An operation is likely to spend its time mainly performing local I/O.</a><br>
<tr valign=top><td><a name="61627">
OpImage.OP_NETWORK_<br>BOUND</a><br><td><a name="61629">
An operation is likely to spend its time mainly performing network I/O.</a><br>
<tr valign=top><td colspan=2 rowspan=1><a name="61604">
HINT_OPERATION_REGISTRY</a><br><td><a name="61608">
Key for OperationRegistry object values.</a><br>
<tr valign=top><td colspan=1 rowspan=2><a name="61258">
HINT_PNG_EMIT_SQUARE_<br>PIXELS</a><br><td><a name="61260">
True</a><br><td><a name="61262">
Scale non-square pixels read from a PNG format image file to square pixels.</a><br>
<tr valign=top><td><a name="61266">
False</a><br><td><a name="61268">
Do not scale non-square pixels.</a><br>
<tr valign=top><td colspan=1 rowspan=4><a name="62439">
HINT_TILE_CACHE</a><br><td><a name="62441">
capacity</a><br><td><a name="62443">
The capacity of the cache in tiles.</a><br>
<tr valign=top><td><a name="62508">
elementCount</a><br><td><a name="62510">
The number of elements in the cache.</a><br>
<tr valign=top><td><a name="62502">
revolver</a><br><td><a name="62504">
Offset to check for tile cache victims.</a><br>
<tr valign=top><td><a name="62496">
multiplier</a><br><td><a name="62498">
Number of checks to make for tile cache victims.</a><br>

</Table>

<p><a href="Programming-environ.doc.html#62534">Listing &#32;3-4</a> shows an example of image layout rendering hints being specified for a Scale operation. The image layout rendering hint specifies that the origin of the destination opimage is set to 200 x 200.<p>
<caption><font size=-1><b>
<a name="62534">
<center><font size=-1><b><i>Listing 3-4	</i><img src="shared/sm-blank.gif" border=0> Example of JAI Rendering Hints</b></font></center>
</a><p>
</b></font></caption>
<hr>
<tr valign=top><td><pre>     // Create the parameter block for the scale operation.
     ParameterBlock pb = new ParameterBlock();
         pb.addSource(im0);      // The source image
         pb.add(4.0F);           // The x scale factor
         pb.add(4.0F);           // The y scale factor
         pb.add(interp);         // The interpolation method
</pre>
<tr valign=top><td><pre>     // Specify the rendering hints.
         layout = new ImageLayout();
         layout.setMinX(200);
         layout.setMinY(200);
         RenderingHints rh =
                 new RenderingHints(JAI.KEY_IMAGE_LAYOUT, layout);
</pre>
<tr valign=top><td><pre>     // Create the scale operation.
     PlanarImage im2 = (PlanarImage)JAI.create("scale", pb, layout)
</pre>

<hr>

<p>
<hr><br>
 
<center>
<a href="JAITOC.fm.html"><img src="shared/contents.gif" alt="Contents"></a> <a href="J2D-concepts.doc.html"><img src="shared/previous.gif" alt="Previous"></a> <a href="Acquisition.doc.html"><img src="shared/next.gif" alt="Next"></a> <p><font size=5><i>Programming in Java Advanced Imaging</i></font>
</center>
<br>
 


<h5><a href="copyright.html">Copyright</a> &#169; 1999, Sun Microsystems, Inc.   All rights
reserved.</h5>


<!-- Last updated: Tue Nov 02 17:09:30 1999 -->
</blockquote>
</body>
</html>
